<script lang="ts">
  import { invoke } from '@tauri-apps/api/tauri';
  import { onMount } from 'svelte';

  // Usaremos el comando 'get_current_user' mock que definimos en Rust
  let message: string = 'Iniciando conexi√≥n con el backend...';

  onMount(async () => {
    try {
      // Llamamos al comando de Rust
      const user = await invoke('get_current_user');
      message = `¬°Conexi√≥n Exitosa! Usuario retornado desde Rust: ${user}`;

    } catch (error) {
      console.error(error);
      message = `Error de Comunicaci√≥n con Rust: ${error}`;
    }
  });

</script>

<main class="container">
  <h1>Arquitecto App - Almac√©n de V√≠veres FAA</h1>
  <p>Estado del Backend Rust/Tauri:</p>
  <p><strong>{message}</strong></p>
  <p>Si ve un mensaje de usuario, el puente Rust ü¶Ä / Svelte ‚ú® est√° funcional.</p>
</main>

<style>
  /* Puedes limpiar o mantener los estilos por defecto aqu√≠ */
</style>